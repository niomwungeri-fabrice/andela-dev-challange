{"version":3,"sources":["index.js"],"names":["dotenv","config","env","process","NODE_ENV","pool","Pool","connectionString","dbconfig","query","text","params","Promise","resolve","reject","then","res","catch","err"],"mappings":";;;;;;AACA;;AACA;;;;AACA;;;;;;AAEAA,iBAAOC,MAAP,G,CALA;;;AAOA,IAAMC,MAAMC,QAAQD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;;AAEA,IAAMC,OAAO,IAAIC,QAAJ,CAAS;AACpBC,oBAAkBC,iBAASN,GAAT;AADE,CAAT,CAAb;;AAIA,SAASO,KAAT,CAAeC,IAAf,EAAqBC,MAArB,EAA6B;AAC3B,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCT,SAAKI,KAAL,CAAWC,IAAX,EAAiBC,MAAjB,EACGI,IADH,CACQ,UAACC,GAAD,EAAS;AACbH,cAAQG,GAAR;AACD,KAHH,EAIGC,KAJH,CAIS,UAACC,GAAD,EAAS;AACdJ,aAAOI,GAAP;AACD,KANH;AAOD,GARM,CAAP;AASD;kBACc;AACbT;AADa,C","file":"index.js","sourceRoot":"/home/inyenyeri/Downloads/JavaScript/andela-dev-challange/src/db","sourcesContent":["/* Code modified from a file obtained from https://github.com/olawalejarvis/reflection_app_server */\nimport { Pool } from 'pg';\nimport dotenv from 'dotenv';\nimport dbconfig from './config';\n\ndotenv.config();\n\nconst env = process.env.NODE_ENV || 'development';\n\nconst pool = new Pool({\n  connectionString: dbconfig[env],\n});\n\nfunction query(text, params) {\n  return new Promise((resolve, reject) => {\n    pool.query(text, params)\n      .then((res) => {\n        resolve(res);\n      })\n      .catch((err) => {\n        reject(err);\n      });\n  });\n}\nexport default {\n  query,\n};\n"]}